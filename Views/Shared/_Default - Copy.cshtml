<!DOCTYPE html>
<html lang="en">
 <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7; IE=EmulateIE9" />

     <title>@ViewBag.Title </title>

     <!-- Mobile Metas -->
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     

    @if (IsSectionDefined("Classification"))
    {
       @RenderSection("Classification", required: false)
    }
    else
    {
        if (ViewBag.Classification != null)
        {
            <meta name="classification" content="@ViewBag.Classification" />
        }
        else
        {
            <meta name="classification" content="" />
        }
    }

    @if (IsSectionDefined("Description"))
    {
       @RenderSection("Description", required: false)
    }
    else
    {
        if (ViewBag.Description != null)
        {
            <meta name="description" content="@ViewBag.Description" />
        }
        else
        {
            <meta name="description" content="" />
        }
    }

     @if (IsSectionDefined("Keywords"))
     {
         @RenderSection("Keywords", required: false)
     }
     else
     {
         if (ViewBag.Keywords != null)
         {
            <meta name="keywords" content="@ViewBag.Keywords" />
         }
         else
         {
            <meta name="keywords" content="" />
         }
     }

     @if (IsSectionDefined("MetaTage"))
     {
         @RenderSection("MetaTage", required: false)
     }
     else
     {
         if (ViewBag.MetaTage != null)
         {
           @Html.Raw(ViewBag.MetaTage);
         }
     }


<link href="@Url.Content("~/Themes/ElegantBusi/css/style.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Themes/ElegantBusi/css/shortcode.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Themes/ElegantBusi/css/responsive.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Themes/ElegantBusi/css/skins/orange/orange.css")" rel="stylesheet" type="text/css" id="color_skin_css" />
<link type="text/css" href="@Url.Content("~/Themes/ElegantBusi/scripts/controlpanel/colorpicker.css")" rel="stylesheet" />
<link type="text/css" href="@Url.Content("~/Themes/ElegantBusi/scripts/controlpanel/control-panel.css")" rel="stylesheet" />

<!-- Icon Font
================================================== -->
<link href="@Url.Content("~/Themes/ElegantBusi/css/assets/css/font-awesome.css")" rel="stylesheet" type="text/css" />

<!--[if lt IE 9]>
	<link rel="stylesheet" type="text/css" href="@Url.Content("~/Themes/ElegantBusi/css/ie8-and-down.css")" />
<![endif]-->

<!--[if IE 7]>
	<link rel="stylesheet" type="text/css" href="@Url.Content("~/Themes/ElegantBusi/css/ie7.css")">
    <link rel="stylesheet" type="text/css" href="@Url.Content("~/Themes/ElegantBusi/css/assets/css/font-awesome-ie7.min.css")">
<![endif]-->

<link rel="stylesheet" href="@Url.Content("~/Themes/ElegantBusi/scripts/layerslider/layerslider.css")" type="text/css" />

<!--[if lt IE 9]>
	<script src="js/layerslider/html5.js"></script>
<![endif]-->

<!-- ******** Google Fonts ******** -->
<link href='http://fonts.googleapis.com/css?family=Oswald:400,300,700' rel='stylesheet' type='text/css' />
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
<link href='http://fonts.googleapis.com/css?family=Economica' rel='stylesheet' type='text/css' />

     <script src="@Url.Content("~/Scripts/jquery.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-2.1.1.min.js")" type="text/javascript"></script>
     <script src="@Url.Content("~/Scripts/jquery-ui-1.11.4.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

         @*
         <script src="@Url.Content("~/Scripts/jquery-ui-1.11.2.min.js")"></script>
             <script src="//code.jquery.com/jquery-1.10.2.js"></script>
        <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>*@

<script type="text/javascript" src="@Url.Content("~/Scripts/ddsmoothmenu/jacked.min.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/ddsmoothmenu/ddsmoothmenu.min.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/ddsmoothmenu/jacked.nav.js")"></script>
<link href="@Url.Content("~/Themes/ElegantBusi/scripts/ddsmoothmenu/ddsmoothmenu.css")" rel="stylesheet" type="text/css" />

<script type="text/javascript" src="@Url.Content("~/Scripts/hovereffect/jquery-hover-effect.js")"></script>
<link href="@Url.Content("~/Themes/ElegantBusi/scripts/hovereffect/hover-style.css")" rel="stylesheet" type="text/css" />

<script type="text/javascript" src="@Url.Content("~/Scripts/isotope/jquery.isotope.min.js")"></script>
<link href="@Url.Content("~/Themes/ElegantBusi/scripts/isotope/isotope-style.css")" rel="stylesheet" type="text/css" />

<script type="text/javascript" src="@Url.Content("~/Scripts/prettyphoto/jquery.prettyPhoto.js")"></script>
<link href="@Url.Content("~/Themes/ElegantBusi/scripts/prettyphoto/prettyPhoto.css")" rel="stylesheet" type="text/css" />

<script type="text/javascript" src="@Url.Content("~/Scripts/jquery.tabs.min.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/twitter/jquery.tweet.min.js")"></script>     
<link rel="stylesheet" href="@Url.Content("~/Themes/base_forms.css")" type="text/css" media="all" />

     <script src="@Url.Content("~/Scripts/ariesglobal.js")" type="text/javascript"></script>

     <script src="@Url.Content("~/Scripts/dropzone.js")" type="text/javascript"></script>
     <script src="@Url.Content("~/Scripts/jquery.form.js")" type="text/javascript"></script>
     <script src="@Url.Content("~/Scripts/Chart.min.js")" type="text/javascript"></script>
     <script src="@Url.Content("~/Scripts/tinymce/tinymce.min.js")" type="text/javascript"></script>
     <script src="@Url.Content("~/Scripts/jquery.tabs.min.js")" type="text/javascript"></script>
     <script type="text/javascript">


         function GetTemplates() {
             try {


                 var procemessage = "<option value='0'> Please wait...</option>";
                 $("#NewPage_cboTemplates").html(procemessage).show();
                 var url = "@Url.Content("/admin/home/GetTemplats/")";

                 $.ajax({
                     url: url,
                     data: { },
                     cache: false,
                     type: "POST",
                     success: function (data) {
                         var markup = "<option value='0'> </option>";
                         for (var x = 0; x < data.length; x++) {
                             markup += "<option value=" + data[x].Value + ">" + data[x].Text + "</option>";
                         }
                         $("#NewPage_cboTemplates").html(markup).show();
                     },
                     error: function (reponse) {
                         alert("error : " + reponse);
                     }
                 });

             }
             catch (e) {
                 alert(e);
                 $("#NewPage_cboTemplatesD").html("error").show();
             }
         }

         function on_Index_iSiteTemplateID_Changed() {
             try {
                 var cboControl = document.getElementById("NewPage_cboTemplates");
                 var selectedText = cboControl[cboControl.selectedIndex].text;


                 Get_SiteTemplatePage(cboControl[cboControl.selectedIndex].value);

             }
             catch (e) {
                 alert(e);
             }
         }

         function Get_SiteTemplatePage(_Id) {
             try {
                 //alert("Got Here with ID: " + _Id);
                 var procemessage = "<option value='0'> Please wait...</option>";
                 $("#NewPage_cboTemplatesPage").html(procemessage).show();
                 var url = "@Url.Content("/admin/home/GetTemplatePage/")";

                 $.ajax({
                     url: url,
                     data: { _ParentID: _Id },
                     cache: false,
                     type: "POST",
                     success: function (data) {
                         var markup = "<option value='0'> </option>";
                         for (var x = 0; x < data.length; x++) {
                             markup += "<option value=" + data[x].Value + ">" + data[x].Text + "</option>";
                         }
                         $("#NewPage_cboTemplatesPage").html(markup).show();
                     },
                     error: function (reponse) {
                         alert("error : " + reponse);
                     }
                 });

             }
             catch (e) {
                 alert(e);
                 $("#NewPage_cboTemplatesPage").html("error").show();
             }
         }


         function Get_Languages() {
             try {
                 //alert("Got Here with ID: " + _Id);
                 var procemessage = "<option value='0'> Please wait...</option>";
                 $("#NewPage_cboPageLanguage").html(procemessage).show();
                 var url = "@Url.Content("/admin/home/GetCountryLanguages/")";

                 $.ajax({
                     url: url,
                     data: { },
                     cache: false,
                     type: "POST",
                     success: function (data) {
                         var markup = "<option value='0'> </option>";
                         for (var x = 0; x < data.length; x++)
                         {
                             if (data[x].Value == 205)
                             {
                                 markup += "<option value=" + data[x].Value + " selected>" + data[x].Text + "</option>";
                             }
                             else
                             {
                                 markup += "<option value=" + data[x].Value + ">" + data[x].Text + "</option>";
                             }
                         }
                         $("#NewPage_cboPageLanguage").html(markup).show();
                     },
                     error: function (reponse) {
                         alert("error : " + reponse);
                     }
                 });

             }
             catch (e) {
                 alert(e);
                 $("#NewPage_cboPageLanguage").html("error").show();
             }
         }

         function UpdateContentByID(oEditor)
         {

             try
             {

            var url = "@Url.Content("/admin/home/UpdateContent")";


                 $.ajax({
                     url: url,
                     data: { _ContentID: oEditor.id, _Content: tinymce.get(oEditor.id).getContent() },
                     cache: false,
                     type: "POST",
                     success: function (data) {
                         alert("Your changes were saved!");
                     },
                     error: function (reponse) {
                         alert("UpdateContentByID error : " + reponse);
                     }
                 });

             }
             catch (e) {
                 alert("UpdateContentByID error : " + e);
                 //$("#WebSitePageZoneContent_iContentZoneID").html("error").show();
             }
         }


         function AddNewPageFrontPage() {

             try {


                 var cboThemeControl = document.getElementById("NewPage_cboTemplates");
                 var oThemeselectedText = cboControl[cboControl.selectedIndex].text;

                 var cboThemePageControl = document.getElementById("NewPage_cboTemplatesPage");
                 var oThemePageselectedText = cboControl[cboControl.selectedIndex].text;


                 var cboPageLanguageControl = document.getElementById("NewPage_cboPageLanguage");
                 var oPageLanguageselectedText = cboControl[cboControl.selectedIndex].text;

                 var txtPagename = document.getElementById("NewPage_txtPageName");
                 var txtPageurl = document.getElementById("NewPage_txtPageURL");




                 var url = "@Url.Content("/admin/home/AddNewPageFrontPage")";


                 $.ajax({
                     url: url,
                     data: {
                         _PageName: txtPagename.value, _PageNav: txtPageurl.value,
                         _TemplateID: cboControl[cboControl.selectedIndex].value, _TemplateName: selectedText
                     },
                     cache: false,
                     type: "POST",
                     success: function (data) {
                         alert("Your page was created!");

                         //window.location.href = window.location.protocol + "//" + window.location.hostname + "/" + txtPageurl.value;
                         window.location.href = window.location.protocol + "//" + window.location.host + "/" + txtPageurl.value;




                     },
                     error: function (reponse) {
                         alert("UpdateContentByID error : " + reponse);
                     }
                 });

             }
             catch (e) {
                 alert("AddNewPageFrontPage error : " + e);
                 //$("#WebSitePageZoneContent_iContentZoneID").html("error").show();
             }
         }

         function UpdateTemplateContentByID(oEditor) {

             try {

                 var url = "@Url.Content("/admin/home/UpdateTemplateContent")";


                 $.ajax({
                     url: url,
                     data: { _ContentID: oEditor.id, _Content: tinymce.get(oEditor.id).getContent() },
                     cache: false,
                     type: "POST",
                     success: function (data) {
                         alert("Your changes were saved!");
                     },
                     error: function (reponse) {
                         alert("UpdateContentByID error : " + reponse);
                     }
                 });

             }
             catch (e) {
                 alert("UpdateContentByID error : " + e);
                 //$("#WebSitePageZoneContent_iContentZoneID").html("error").show();
             }
         }

         function ViewFileManager()
         {
             try{
                 var myWindow = window.open(window.location.protocol + "//" + window.location.host + "/" + "portal/home/FilesManager_List", "_blank", "toolbar=no, scrollbars=yes, resizable=yes, width=560, height=700, location=no,status=no,titlebar=no");
             }
             catch(e)
             {

             }
         }

         function ShowAddNewPageDialog() {
             try {
                 GetTemplates();
                 Get_Languages();
                 $("#acmAddNewPGDialog").dialog("open");
             }
             catch (e) {
                 alert(e);
             }
         }

         function FrontPageLogIn()
         {
             try
             {
                 var txtUserName = document.getElementById("UserName");
                 var txtPassword = document.getElementById("Password");


                 var oValidated = true;

                 if (txtUserName != null) {
                     if ((!txtUserName.value) || (!txtUserName)) {
                         txtUserName.style.backgroundColor = '#FFCCCC';
                         oValidated = false;
                     }
                     else if (txtUserName.value == '') {
                         txtUserName.style.backgroundColor = '#FFCCCC';
                         oValidated = false;
                     }
                 }

                 if (txtPassword != null) {
                     if ((!txtPassword.value) || (!txtPassword)) {
                         txtPassword.style.backgroundColor = '#FFCCCC';
                         oValidated = false;
                     }
                     else if (txtPassword.value == '') {
                         txtPassword.style.backgroundColor = '#FFCCCC';
                         oValidated = false;
                     }
                 }

                 if (oValidated == true)
                 {
                     
                     var url = "@Url.Content("/RestService/UserLogIn")";
                     document.getElementById('oFrontPageLongInForm_Button').style.display = 'none';
                     document.getElementById('oFrontPageLongInForm_PleaseWaith').style.display = 'inline';

                     $.ajax({
                         url: url,
                         data: { _UserName: txtUserName.value, _Password: txtPassword.value },
                         cache: false,
                         type: "POST",
                         success: function (data) {
                            
                             if(data.RESPONSE == 'true')
                             {
                                 document.getElementById('oFrontPageLongInForm').style.display = 'none';
                                 document.getElementById('oFrontPageLoggedInUserInfo').style.display = 'inline';
                                 document.getElementById('oLogInFormPortalLink1').setAttribute('href', data.USERPORTAL);
                                 //location.reload();
                             }
                             else
                             {
                                 alert("Log In error : " + data.MESSAGE);
                                 document.getElementById('oFrontPageLongInForm_Button').style.display = 'inline';
                                 document.getElementById('oFrontPageLongInForm_PleaseWaith').style.display = 'none';
                             }

                         },
                         error: function (reponse) {
                             alert("Log In error : " + reponse);
                         }
                     });
                 }
                 else
                 {
                     alert("Please check your log in info and try again!");
                     document.getElementById('oFrontPageLongInForm_Button').style.display = 'inline';
                     document.getElementById('oFrontPageLongInForm_PleaseWaith').style.display = 'none';

                 }
                 
             }
             catch(e)
             {
                 alert(e);
             }
         }

         function SetUserIsLoggedIn(_PortalURL)
         {
             try {

                 document.getElementById('oFrontPageLongInForm').style.display = 'none';
                 document.getElementById('oFrontPageLoggedInUserInfo').style.display = 'inline';
                 document.getElementById('oLogInFormPortalLink1').setAttribute('href', _PortalURL);
             }
             catch (e)
             {
             }
         }


         function EnableEditor()
         {
             try
             {
                 //Properties for editor for inline editing
                 //http://www.tinymce.com/wiki.php/API3:class.tinymce.Editor
                 tinymce.init({
                     selector: "div.editable",
                     inline: true,
                     force_br_newlines: false,
                     force_p_newlines: false,
                     forced_root_block: '',
                     width: 650,
                     height: 400,
                     cleanup_on_startup: false,
                     trim_span_elements: false,
                     verify_html: false,
                     cleanup: false,
                     convert_urls: false,
                     keep_styles: true,
                     browser_spellcheck: true,
                     plugins: ["advlist autolink lists link image charmap print preview anchor legacyoutput",
                             "searchreplace visualblocks code fullscreen",
                             "insertdatetime media table contextmenu paste moxiemanager"],
                     menubar: "edit insert format table tools",
                     toolbar: "doneeditingpagebutton | aupdatecontentbutton | aupdatetempcontentbutton | aaddnewpagebutton | insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | showfilemanager",
                     setup: function (ed) {
                         // Add a custom button
                         ed.addButton('aupdatecontentbutton', {
                             type: 'button',
                             title: 'Save',
                             text: 'Save Changes',
                             image: '../Themes/Save.png',
                             onclick: function () {
                                 // Add you own code to execute something on click
                                 UpdateContentByID(ed);
                             }
                         });

                         ed.addButton('aupdatetempcontentbutton', {
                             type: 'button',
                             title: 'Update Template',
                             text: 'Update Template',
                             image: '../Themes/Save.png',
                             onclick: function () {
                                 // Add you own code to execute something on click
                                 UpdateTemplateContentByID(ed);
                             }
                         });
                         ed.addButton('showfilemanager', {
                             type: 'button',
                             title: 'Files',
                             text: 'Show Files',
                             onclick: function () {
                                 // Add you own code to execute something on click
                                 ViewFileManager();
                             }
                         });

                         ed.addButton('aaddnewpagebutton', {
                             type: 'button',
                             title: 'Add New Page',
                             text: 'Add New Page',
                             image: '',
                             onclick: function () {
                                 // Add you own code to execute something on click
                                 ShowAddNewPageDialog();
                             }
                         });

                         ed.addButton('doneeditingpagebutton', {
                             type: 'button',
                             title: 'Done Editing',
                             text: 'Done Editing',
                             image: '',
                             onclick: function () {
                                 // Add you own code to execute something on click
                                 location.reload();
                             }
                         });
                     }

                 });


                 document.getElementById("dseditbutton").style.display = 'none';

             }
             catch(e)
             {

             }
         }

         function ShowLogIn()
         {
             try
             {
                 $("#acmUserLogIn").dialog("open");

             }
             catch(e)
             {

             }
         }



         function ShowRegistration() {
             try {
                 $("#acmUserRegistration").dialog("open");

             }
             catch (e) {
                 alert(e);
             }
         }

         $(function () {
             $("#acmAddNewPGDialog").dialog({
                 autoOpen: false,
                 maxWidth: 550,
                 maxHeight: 450,
                 width: 550,
                 height: 450, closeText: "X"
             });
         });
         $(function () {
             $("#acmUserLogIn").dialog({
                 autoOpen: false,
                 maxWidth: 350,
                 maxHeight: 270,
                 width: 350,
                 height: 270, closeText: "X"
             });
         });
         $(function () {
             $("#acmUserRegistration").dialog({
                 autoOpen: false,
                 maxWidth: 350,
                 maxHeight: 270,
                 width: 350,
                 height: 270, closeText: "X"
             });
         });

</script>

</head>

<body>
    <div id="editmytoolbar1">
    </div>

    <div id="acmAddNewPGDialog" title="Create A New Page" style="display:none;">
        <form action="#" method="post">           
            <fieldset>
                <legend></legend>

                <div style="width:100%;float:left;">
                    <div class="LabelDiv1Required">
                       Page Name
                    </div>
                    <div class="TextBoxDiv1">
                        <input type="text" id="NewPage_txtPageName" class="TextBox2" />
                    </div>
                    <div class="LabelDiv1Error">
                    </div>
                </div>
                <div style="width:100%;float:left;">
                    <div class="LabelDiv1Required">
                        Page URL
                    </div>
                    <div class="TextBoxDiv1">
                        <input type="text" id="NewPage_txtPageURL" class="TextBox2" />
                    </div>
                    <div class="LabelDiv1Error">
                    </div>
                </div>
                <div style="width:100%;float:left;">
                    <div class="LabelDiv1Required">
                        Theme :
                    </div>
                    <div class="TextBoxDiv1">
                        <select id="NewPage_cboTemplates" class="TextBox2" onchange="javascript:on_Index_iSiteTemplateID_Changed();"></select>
                    </div>
                    <div class="LabelDiv1Error">
                    </div>
                </div>
                <div style="width:100%;float:left;">
                    <div class="LabelDiv1Required">
                        Page :
                    </div>
                    <div class="TextBoxDiv1">
                        <select id="NewPage_cboTemplatesPage" class="TextBox2"></select>
                    </div>
                    <div class="LabelDiv1Error">
                    </div>
                </div>
                <div style="width:100%;float:left;">
                    <div class="LabelDiv1Required">
                        Language :
                    </div>
                    <div class="TextBoxDiv1">
                        <select id="NewPage_cboPageLanguage" class="TextBox2"></select>
                    </div>
                    <div class="LabelDiv1Error">
                    </div>
                </div>
            </fieldset>
            <div style="float:right; padding-top:12px;">
                <a href="javascript:AddNewPageFrontPage();" class="orange-btn button medium left">Create Page</a>
            </div>
        </form>
    </div>


    <div id="acmUserRegistration" title="Register" style="display:none;">
        @{ Html.RenderPartial("~/Views/SharedForms/UserRegistrationBasic.cshtml"); }
    </div>
    <div id="acmUserLogIn" title="Log In" style="display:none;">
        <div id="oFrontPageLoggedInUserInfo" style="display:none;">
            <span style="font-size:1.4em">
                Welcome back! <a id="oLogInFormPortalLink1" href="~/portal">Click here</a> to enter your portal.
			</span>
        </div>
        <div id="oFrontPageLongInForm">
            <form action="#" method="post">
                <fieldset>
                    <legend></legend>

                    <div style="width:100%;float:left;">
                        <div class="LabelDiv1Required">
                            User Name:
                        </div>
                        <div class="TextBoxDiv1">
                            <input type="text" class="TextBox2" placeholder="User Name" name="UserName" id="UserName" />
                        </div>
                        <div class="LabelDiv1Error">
                        </div>
                    </div>
                    <div style="width:100%;float:left;">
                        <div class="LabelDiv1Required">
                            Password:
                        </div>
                        <div class="TextBoxDiv1">
                            <input type="password" class="TextBox2" placeholder="" name="Password" id="Password" />
                        </div>
                        <div class="LabelDiv1Error">
                        </div>
                    </div>
                </fieldset>
                <div id="oFrontPageLongInForm_Button" style="float:right; padding-top:12px;">
                    <a href="javascript:FrontPageLogIn();" class="orange-btn button medium left">Log In</a>
                </div>
                <div id="oFrontPageLongInForm_PleaseWaith" style="float:right; padding-top:12px; display:none;">
                    <span class="orange-btn button medium left">Please Wait...</span>
                </div>
            </form>
        </div>
    </div>

	
    <!-- Main-content Div Starts here -->
    <div class="main-contant group">
		<!-- wrapper Div starts here -->  
        <div class="wrapper">

            @RenderBody()
            <!-- Wrapper Div Ends here -->
        </div>
    </div>
    <!-- Main-content Div Ends here -->


</body>
</html>